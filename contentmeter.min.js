function ContentMeter(t,n,e){this.barSelector=t,this.contSelector=n,this.options=e,this.settings={invisibilityClass:!0},this.init()}ContentMeter.prototype={init:function(){function t(t){var n;return n="string"==typeof t&&-1!==t.indexOf("#")&&0===t.indexOf("#")?document.getElementById(t.slice(1)):"object"==typeof t?t:{}}var n=this,e=n.options,i=n.settings;n.barContainer=t(n.barSelector),n.contContainer=t(n.contSelector);for(var o in e)i[o]=e[o];n.createMeter()},createMeter:function(){var t,n=this;n.barContainer.style.overflow="hidden",t=document.createElement("div"),t.style.width=n.getBarWidth()+"%",t.classList.add("contentmeter-bar"),n.settings.invisibilityClass&&n.updateClasses(),n.bar=t,n.barContainer.appendChild(t),n.bindUIEvents()},bindUIEvents:function(){var t=this,n=t.bar;window.addEventListener("scroll",function(){n.style.width=t.getBarWidth()+"%",t.settings.invisibilityClass&&t.updateClasses()}),window.addEventListener("resize",function(){t.setContentVars(),n.style.width=t.getBarWidth()+"%",t.settings.invisibilityClass&&t.updateClasses()})},getDocScrolltop:function(){return document.documentElement.scrollTop||document.body.scrollTop},setContentVars:function(){var t=this;t.cont={contentH:t.contContainer.scrollHeight,visibleContentH:t.contContainer.clientHeight,contentOffset:t.contContainer.offsetTop},t.cont.visibleContentH=t.cont.visibleContentH>window.innerHeight?window.innerHeight:t.cont.visibleContentH},getBarWidth:function(){var t=this,n=0;return t.cont||t.setContentVars(),n=(t.getDocScrolltop()-t.cont.contentOffset+t.cont.visibleContentH)/t.cont.contentH*100,n=n>=0?n:0,n=100>n?n:100},updateClasses:function(){var t=this;t.getDocScrolltop()>t.cont.contentH+t.cont.contentOffset||t.getDocScrolltop()+t.cont.visibleContentH<t.cont.contentOffset?t.barContainer.classList.add("invisible"):t.barContainer.classList.remove("invisible")}};