{"version":3,"sources":["webpack:///webpack/bootstrap d4998b5c3b33da6ff25c","webpack:///./docs/scripts/main.js","webpack:///./src/contentmeter.js","webpack:///./src/utilities.js"],"names":["myContentmeter","invisibilityClass","Contentmeter","barSelector","contentSelector","init","getDocScrolltop","content","height","offset","visibleHeight","barContainer","classList","add","remove","barW","readContentDimensions","selfScrolled","contentContainer","scrollTop","barBasicVal","limitTheNumber","bar","style","width","getBarWidth","counter","textContent","Math","ceil","scrollHeight","clientHeight","min","window","innerHeight","offsetTop","console","log","scrollTarget","addEventListener","setBarWidth","setCounterValue","updateClasses","createDOMElement","element","bindUIEvents","getDOMElement","createMeter","Error","Utilities","selector","indexOf","document","getElementById","slice","nodeType","undefined","length","className","parent","callback","DOMElement","createElement","appendChild","documentElement","body","theNumber","max"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d4998b5c3b33da6ff25c","import Contentmeter from '@bezet/contentmeter';\nconst myContentmeter = new Contentmeter('#content_meter', '#content_container', {\n  invisibilityClass: false\n});\n\n\n\n// WEBPACK FOOTER //\n// ./docs/scripts/main.js","import Utilities from './utilities.js';\n\nclass Contentmeter {\n  constructor( barSelector, contentSelector ) {\n    this.barSelector = barSelector;\n    this.contentSelector = contentSelector;\n\n    this.init();\n  }\n\n  updateClasses() {\n    if ( Utilities.getDocScrolltop() > ( this.content.height + this.content.offset )\n    || ( Utilities.getDocScrolltop() + this.content.visibleHeight ) < this.content.offset ) {\n\n      this.barContainer.classList.add( 'js-invisible' );\n    } else {\n      this.barContainer.classList.remove( 'js-invisible' );\n    }\n  }\n\n  getBarWidth() {\n    let barW = 0;\n    if ( !this.content ) {\n      this.readContentDimensions();\n    }\n\n    barW = (\n      ( this.content.selfScrolled ? this.contentContainer.scrollTop : Utilities.getDocScrolltop() )\n      + this.content.barBasicVal\n    ) / this.content.height * 100;\n\n    return Utilities.limitTheNumber( barW, 0, 100 );\n  }\n\n  setBarWidth() {\n    this.bar.style.width = `${this.getBarWidth()}%`;\n  }\n\n  setCounterValue() {\n    this.counter.textContent = Math.ceil( this.getBarWidth() );\n  }\n\n  readContentDimensions() {\n    this.content = this.content || {};\n\n    this.content.selfScrolled  = ( this.contentContainer.scrollHeight > this.contentContainer.clientHeight );\n\n    this.content.height        = this.contentContainer.scrollHeight;\n    this.content.visibleHeight = Math.min( window.innerHeight, this.contentContainer.clientHeight );\n    this.content.offset        = this.content.selfScrolled ? 0 : this.contentContainer.offsetTop;\n    this.content.barBasicVal   = this.content.offset * ( -1 ) + this.content.visibleHeight;\n\n    console.log( this.content );\n  }\n\n  bindUIEvents() {\n    const scrollTarget = this.content.selfScrolled ? this.contentContainer : window;\n    scrollTarget.addEventListener( 'scroll', () => {\n      this.setBarWidth();\n      this.setCounterValue();\n    } );\n\n    window.addEventListener( 'scroll', () => {\n      return this.updateClasses();\n    } );\n    window.addEventListener( 'resize', () => {\n      this.readContentDimensions();\n      this.setBarWidth();\n      this.setCounterValue();\n      this.updateClasses();\n    } );\n  }\n\n  createMeter() {\n    Utilities.createDOMElement(\n      'div', 'contentmeter__bar', this.barContainer, ( element ) => {\n        this.bar = element;\n        this.setBarWidth();\n      }\n    );\n\n    Utilities.createDOMElement(\n      'div', 'contentmeter__counter', this.barContainer, ( element ) => {\n        this.counter = element;\n        this.setCounterValue();\n      }\n    );\n\n    this.updateClasses();\n    this.bindUIEvents();\n  }\n\n  init() {\n    this.barContainer = Utilities.getDOMElement( this.barSelector );\n    this.contentContainer = Utilities.getDOMElement( this.contentSelector );\n\n    if ( this.barContainer !== null && this.contentContainer !== null ) {\n      this.readContentDimensions();\n      this.createMeter();\n    } else {\n      throw new Error( 'Wrong selectors or given selectors match no elements.' );\n    }\n  }\n}\n\nexport default Contentmeter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/contentmeter.js","class Utilities {\n  static getDOMElement( selector ) {\n    let element = null;\n\n    if ( typeof selector === 'string'\n      && selector.indexOf( '#' ) !== -1\n      && selector.indexOf( '#' ) === 0\n    ) {\n      element = document.getElementById( selector.slice( 1 ) );\n\n    } else if ( typeof selector === 'object'\n      && selector.nodeType !== undefined\n      && selector.length === undefined\n    ) {\n      element = selector;\n    }\n\n    return element;\n  }\n\n  static createDOMElement( element, className, parent, callback ) {\n    const DOMElement = document.createElement( element );\n    DOMElement.classList.add( className );\n\n    if ( parent ) {\n      parent.appendChild( DOMElement );\n    }\n\n    if ( callback ) {\n      callback( DOMElement );\n    }\n\n    return DOMElement;\n  }\n\n  static getDocScrolltop() {\n    return document.documentElement.scrollTop || document.body.scrollTop;\n  }\n\n  static limitTheNumber( theNumber, min, max ) {\n    return ( theNumber > min ) ? ( ( theNumber < max ) ? theNumber : max ) : min;\n  }\n}\n\nexport default Utilities;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js"],"sourceRoot":""}