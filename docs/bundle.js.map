{"version":3,"sources":["webpack:///webpack/bootstrap f432575938d36e0c2acd","webpack:///./docs/scripts/main.js","webpack:///./src/contentmeter.js","webpack:///./src/utilities.js"],"names":["myContentmeter","barSelector","contentSelector","Contentmeter","options","settings","Object","keys","forEach","option","barContainer","document","querySelector","contentContainer","readContentDimensions","createMeter","Error","content","selfScrolled","scrollHeight","clientHeight","height","visibleHeight","Math","min","window","innerHeight","offset","offsetTop","barBasicVal","containerScrollTop","scrollTop","getDocScrolltop","barW","limitTheNumber","bar","style","transform","calcBarScale","counter","textContent","ceil","setBarWidth","setCounterValue","scrollTarget","addEventListener","scrollHandler","resizeHandler","createDOMElement","element","bindEvents","Utilities","className","parent","callback","DOMElement","createElement","classList","add","appendChild","documentElement","body","theNumber","max"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f432575938d36e0c2acd","import Contentmeter from '@bezet/contentmeter';\nconst myContentmeter = new Contentmeter({\n  barSelector: '#content_meter',\n  contentSelector: '#content_container',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./docs/scripts/main.js","import Utilities from './utilities';\n\nclass Contentmeter {\n  constructor(options = {}) {\n    this.settings = {\n      barSelector: '#content_meter',\n      contentSelector: '#content_container',\n    };\n\n    Object.keys(options).forEach((option) => {\n      this.settings[option] = options[option];\n    });\n\n    this.barContainer = document.querySelector(this.settings.barSelector);\n    this.contentContainer = document.querySelector(this.settings.contentSelector);\n\n    if (this.barContainer !== null && this.contentContainer !== null) {\n      this.readContentDimensions();\n      this.createMeter();\n    } else {\n      throw new Error('Wrong selectors or given selectors match no elements.');\n    }\n  }\n\n  readContentDimensions() {\n    this.content = this.content || {};\n\n    this.content.selfScrolled =\n      (this.contentContainer.scrollHeight > this.contentContainer.clientHeight);\n\n    this.content.height = this.contentContainer.scrollHeight;\n    this.content.visibleHeight = Math.min(window.innerHeight, this.contentContainer.clientHeight);\n    this.content.offset = this.content.selfScrolled ? 0 : this.contentContainer.offsetTop;\n    this.content.barBasicVal = (-1 * this.content.offset) + this.content.visibleHeight;\n  }\n\n  calcBarScale() {\n    if (!this.content) {\n      this.readContentDimensions();\n    }\n\n    const containerScrollTop = this.content.selfScrolled ?\n      this.contentContainer.scrollTop : Utilities.getDocScrolltop();\n    const barW = ((containerScrollTop + this.content.barBasicVal) / this.content.height);\n\n    return Utilities.limitTheNumber(barW, 0, 1);\n  }\n\n  setBarWidth() {\n    this.bar.style.transform = `scale(${this.calcBarScale()}, 1)`;\n  }\n\n  setCounterValue() {\n    this.counter.textContent = `${Math.ceil(this.calcBarScale() * 100)}`;\n  }\n\n  resizeHandler() {\n    this.readContentDimensions();\n    this.setBarWidth();\n    this.setCounterValue();\n  }\n\n  scrollHandler() {\n    this.setBarWidth();\n    this.setCounterValue();\n  }\n\n  bindEvents() {\n    const scrollTarget = this.content.selfScrolled ? this.contentContainer : window;\n\n    scrollTarget.addEventListener('scroll', () => this.scrollHandler());\n    window.addEventListener('resize', () => this.resizeHandler());\n  }\n\n  createMeter() {\n    Utilities.createDOMElement(\n      'div', 'contentmeter__bar', this.barContainer, (element) => {\n        this.bar = element;\n        this.setBarWidth();\n      }\n   );\n\n    Utilities.createDOMElement(\n      'div', 'contentmeter__counter', this.barContainer, (element) => {\n        this.counter = element;\n        this.setCounterValue();\n      }\n   );\n\n    this.bindEvents();\n  }\n}\n\nexport default Contentmeter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/contentmeter.js","class Utilities {\n  static createDOMElement(element, className, parent, callback) {\n    const DOMElement = document.createElement(element);\n    DOMElement.classList.add(className);\n\n    if (parent) {\n      parent.appendChild(DOMElement);\n    }\n\n    if (callback) {\n      callback(DOMElement);\n    }\n\n    return DOMElement;\n  }\n\n  static getDocScrolltop() {\n    return document.documentElement.scrollTop || document.body.scrollTop;\n  }\n\n  static limitTheNumber(theNumber, min, max) {\n    return (theNumber > min) ? ((theNumber < max) ? theNumber : max) : min;\n  }\n}\n\nexport default Utilities;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js"],"sourceRoot":""}