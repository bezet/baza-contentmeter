!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Contentmeter=t():e.Contentmeter=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),c=(o=i)&&o.__esModule?o:{default:o};var s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings={barSelector:"#content_meter",contentSelector:"#content_container"},Object.keys(n).forEach(function(e){t.settings[e]=n[e]}),this.barContainer=document.querySelector(this.settings.barSelector),this.contentContainer=document.querySelector(this.settings.contentSelector),null===this.barContainer||null===this.contentContainer)throw new Error("Wrong selectors or given selectors match no elements.");this.readContentDimensions(),this.createMeter()}return r(e,[{key:"readContentDimensions",value:function(){this.content=this.content||{},this.content.selfScrolled=this.contentContainer.scrollHeight>this.contentContainer.clientHeight,this.content.height=this.contentContainer.scrollHeight,this.content.visibleHeight=Math.min(window.innerHeight,this.contentContainer.clientHeight),this.content.offset=this.content.selfScrolled?0:this.contentContainer.offsetTop,this.content.barBasicVal=-1*this.content.offset+this.content.visibleHeight}},{key:"calcBarScale",value:function(){this.content||this.readContentDimensions();var e=((this.content.selfScrolled?this.contentContainer.scrollTop:c.default.getDocScrolltop())+this.content.barBasicVal)/this.content.height;return c.default.limitTheNumber(e,0,1)}},{key:"setBarWidth",value:function(){this.bar.style.transform="scale("+this.calcBarScale()+", 1)"}},{key:"setCounterValue",value:function(){this.counter.textContent=""+Math.ceil(100*this.calcBarScale())}},{key:"resizeHandler",value:function(){this.readContentDimensions(),this.setBarWidth(),this.setCounterValue()}},{key:"scrollHandler",value:function(){this.setBarWidth(),this.setCounterValue()}},{key:"bindEvents",value:function(){var e=this;(this.content.selfScrolled?this.contentContainer:window).addEventListener("scroll",function(){return e.scrollHandler()}),window.addEventListener("resize",function(){return e.resizeHandler()})}},{key:"createMeter",value:function(){var e=this;c.default.createDOMElement("div","contentmeter__bar",this.barContainer,function(t){e.bar=t,e.setBarWidth()}),c.default.createDOMElement("div","contentmeter__counter",this.barContainer,function(t){e.counter=t,e.setCounterValue()}),this.bindEvents()}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"createDOMElement",value:function(e,t,n,o){var r=document.createElement(e);return r.classList.add(t),n&&n.appendChild(r),o&&o(r),r}},{key:"getDocScrolltop",value:function(){return document.documentElement.scrollTop||document.body.scrollTop}},{key:"limitTheNumber",value:function(e,t,n){return e>t?e<n?e:n:t}}]),e}();t.default=r,e.exports=t.default}])});
//# sourceMappingURL=contentmeter.js.map